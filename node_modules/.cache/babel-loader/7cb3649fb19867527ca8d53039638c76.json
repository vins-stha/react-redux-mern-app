{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Laptop\\\\Desktop\\\\udemy\\\\node\\\\MERN\\\\first\\\\frontend\\\\src\\\\components\\\\comp_users\\\\View.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport './comp_users.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function View() {\n  _s();\n\n  const [allUsers, setAllUsers] = useState('');\n  const [user, setUser] = useState([]);\n  const [id, setId] = useState(); // const params = useParams \n\n  useEffect(() => {\n    var method = \"get\";\n    var url = \"http://localhost:1000/users\";\n    axios.get(url).then(res => {\n      console.log('res=>', res.data);\n      var resp = {\n        name: res.data.name,\n        city: res.data.city\n      };\n      console.log('resp =>', resp.name, resp.city);\n      console.log('actual response =>', res.data);\n      setAllUsers(res.data);\n    }).catch(err => {\n      console.log('errour=>', err);\n    });\n  }, []);\n  const history = useHistory;\n\n  function handleDelete(id) {\n    console.log('ID =', id);\n    axios.post('http://localhost:1000/users/delete', {\n      id: id\n    }).then(res => {\n      alert('Deleted!!');\n      window.location = '/users';\n    }).catch(err => {\n      if (err) {\n        console.log('Error', err);\n      }\n    });\n  }\n\n  const users = allUsers.length > 0 ? allUsers.map((user, key) => {\n    // return (\n    //     <div key={user._id} style={{ border: \"1px solid black\", margin: \"10px\" }}>\n    //         <h1>{user.name},</h1><h4>{user.city} </h4>\n    //         <Link to={`/editUser/${user._id}`}>\n    //             <button name=\"edit\" value=\"edit\">edit</button>\n    //         </Link>\n    //         <button name=\"edit\" value=\"edit\" onClick={(e)=>{handleDelete(user._id)}}>Delete</button>\n    //     </div>\n    // )\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      style: {\n        border: \"1px solid black\",\n        margin: \"10px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        scope: \"row\",\n        children: [user.name, \",\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        scope: \"row\",\n        children: [user.city, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `/editUser/${user._id}`,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          name: \"edit\",\n          value: \"edit\",\n          children: \"edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        name: \"edit\",\n        value: \"edit\",\n        onClick: e => {\n          handleDelete(user._id);\n        },\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, user._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this);\n  }) : \"[]\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"projectTitle\",\n      children: \" MERN project\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [users, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table table-hover\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"City\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n}\n\n_s(View, \"PVsGroA/z4TDSbX3RvNrUtgIB08=\");\n\n_c = View;\n\nvar _c;\n\n$RefreshReg$(_c, \"View\");","map":{"version":3,"sources":["C:/Users/Laptop/Desktop/udemy/node/MERN/first/frontend/src/components/comp_users/View.js"],"names":["React","useEffect","useState","Link","useHistory","axios","View","allUsers","setAllUsers","user","setUser","id","setId","method","url","get","then","res","console","log","data","resp","name","city","catch","err","history","handleDelete","post","alert","window","location","users","length","map","key","border","margin","_id","e"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport './comp_users.css'\r\n\r\nexport default function View() {\r\n    const [allUsers, setAllUsers] = useState('')\r\n    const [user, setUser] = useState([])\r\n    const [id,setId] = useState()\r\n    // const params = useParams \r\n    useEffect(() => {\r\n        var method = \"get\"\r\n        var url = \"http://localhost:1000/users\"\r\n        axios.get(url)\r\n            .then((res) => {\r\n                console.log('res=>', res.data)\r\n                var resp = {\r\n                    name: res.data.name,\r\n                    city: res.data.city\r\n                }\r\n                console.log('resp =>', resp.name, resp.city)\r\n                console.log('actual response =>', res.data)\r\n\r\n                setAllUsers(res.data)\r\n\r\n            })\r\n            .catch((err) => { console.log('errour=>', err) })\r\n    }, [])\r\n    const history = useHistory\r\n    function handleDelete(id)\r\n    {\r\n        console.log('ID =',id)\r\n        axios.post('http://localhost:1000/users/delete',{id:id})\r\n        .then((res)=>{\r\n            alert('Deleted!!')\r\n            window.location = '/users'\r\n        })\r\n        .catch((err)=>{if(err){console.log('Error',err)}})\r\n        \r\n\r\n    }\r\n    const users = allUsers.length > 0 ? (allUsers.map((user, key) => {\r\n        // return (\r\n        //     <div key={user._id} style={{ border: \"1px solid black\", margin: \"10px\" }}>\r\n        //         <h1>{user.name},</h1><h4>{user.city} </h4>\r\n         \r\n        //         <Link to={`/editUser/${user._id}`}>\r\n        //             <button name=\"edit\" value=\"edit\">edit</button>\r\n        //         </Link>\r\n        //         <button name=\"edit\" value=\"edit\" onClick={(e)=>{handleDelete(user._id)}}>Delete</button>\r\n\r\n\r\n        //     </div>\r\n        // )\r\n        return (\r\n            <tr key={user._id} style={{ border: \"1px solid black\", margin: \"10px\" }}>\r\n                <td scope=\"row\">{user.name},</td>\r\n                <td scope =\"row\">{user.city} </td>\r\n                <td></td>\r\n                <Link to={`/editUser/${user._id}`}>\r\n                    <button name=\"edit\" value=\"edit\">edit</button>\r\n                </Link>\r\n                <button name=\"edit\" value=\"edit\" onClick={(e)=>{handleDelete(user._id)}}>Delete</button>\r\n\r\n\r\n            </tr>\r\n        )\r\n    })) : \"[]\"\r\n\r\n    return (\r\n        <div className=\"container\">\r\n             <h1 className=\"projectTitle\"> MERN project</h1>\r\n             <h3>Users</h3>\r\n            <h2>{users} </h2>\r\n            <table className=\"table table-hover\">\r\n                <thead>\r\n                    <tr>\r\n                        <th scope=\"col\">Username</th>\r\n                        <th scope=\"col\">City</th>\r\n                        <th scope=\"col\">Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}