{"ast":null,"code":"import _slicedToArray from\"C:/Users/Laptop/Desktop/udemy/node/MERN/first/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import React,{useEffect,useState}from'react';import{Link,Route,Redirect,useParams,useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Edit(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),city=_useState6[0],setCity=_useState6[1];var params=useParams();var history=useHistory();useEffect(function(){console.log('params::',params);var data=params.id;axios.post('http://localhost:1000/users/findUser',{user_id:params.id}).then(function(res){console.log('Edit response=>',res.data[0].name);setName(res.data[0].name);setCity(res.data[0].city);}).catch(function(err){console.log('errour=>',err);});},[]);function handleClick(e){var data={name:name,city:city,id:params.id};setUser(data);axios.post('http://localhost:1000/users/updateUser',data).then(function(res){console.log('res=>',res.data);history.go(-1);}).catch(function(err){console.log('errour=>',err);});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"projectTitle\",children:\"First MERN project\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Edit\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"userInputs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"pre\",children:/*#__PURE__*/_jsxs(\"pre\",{children:[\"Previously: \",name]})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",className:\"form-control\",placeholder:\"Name\",value:name,onChange:function onChange(e){setName(e.target.value);}}),/*#__PURE__*/_jsx(\"span\",{className:\"pre\",children:/*#__PURE__*/_jsxs(\"pre\",{children:[\"Previously: \",city]})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"city\",className:\"form-control\",placeholder:\"city\",value:city,onChange:function onChange(e){setCity(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",className:\"btn btn-success\",onClick:handleClick,value:\"Update\"})]})]});}","map":{"version":3,"sources":["C:/Users/Laptop/Desktop/udemy/node/MERN/first/frontend/src/components/comp_users/Edit.js"],"names":["axios","React","useEffect","useState","Link","Route","Redirect","useParams","useHistory","Edit","user","setUser","name","setName","city","setCity","params","history","console","log","data","id","post","user_id","then","res","catch","err","handleClick","e","go","target","value"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Link, Route, Redirect, useParams,useHistory } from 'react-router-dom'\r\n\r\nexport default function Edit() {\r\n    const [user, setUser] = useState([])\r\n    const [name, setName] = useState('')\r\n    const [city, setCity] = useState('')\r\n    const params = useParams()\r\n    const history = useHistory()\r\n    useEffect(() => {\r\n       console.log('params::',params)\r\n       var data = params.id\r\n        axios.post('http://localhost:1000/users/findUser',{user_id: params.id})\r\n        .then((res) => {\r\n            console.log('Edit response=>',res.data[0].name)\r\n            setName(res.data[0].name)\r\n            setCity(res.data[0].city)\r\n\r\n        })\r\n        .catch((err) => { console.log('errour=>', err) })\r\n       \r\n    }, [])\r\n\r\n    function handleClick(e) {\r\n        var data = {\r\n            name: name,\r\n            city: city,\r\n            id: params.id\r\n        }\r\n        setUser(data)\r\n\r\n        axios.post('http://localhost:1000/users/updateUser', data)\r\n            .then((res) => {\r\n                console.log('res=>',res.data)\r\n                history.go(-1)\r\n\r\n            })\r\n            .catch((err) => { console.log('errour=>', err) })    \r\n        }\r\n\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <h1 className=\"projectTitle\">First MERN project</h1>\r\n            <h3>Edit</h3>\r\n            <div className=\"userInputs\">\r\n                <span className=\"pre\"><pre>Previously: {name}</pre></span>\r\n                <input type=\"text\" name=\"name\" className=\"form-control\" placeholder=\"Name\" value={name} onChange={(e) => { setName(e.target.value) }}></input>\r\n                <span className=\"pre\"><pre>Previously: {city}</pre></span>\r\n                <input type=\"text\" name=\"city\" className=\"form-control\" placeholder=\"city\" value={city} onChange={(e) => { setCity(e.target.value) }}></input>\r\n\r\n                <input type=\"button\" className=\"btn btn-success\" onClick={handleClick} value=\"Update\" />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}