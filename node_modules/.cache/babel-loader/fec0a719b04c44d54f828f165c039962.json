{"ast":null,"code":"import _slicedToArray from\"C:/Users/Laptop/Desktop/udemy/node/MERN/first/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Link,useHistory}from'react-router-dom';import axios from'axios';import'./comp_users.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function View(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),allUsers=_useState2[0],setAllUsers=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),id=_useState6[0],setId=_useState6[1];// const params = useParams \nuseEffect(function(){var method=\"get\";var url=\"http://localhost:1000/users\";axios.get(url).then(function(res){console.log('res=>',res.data);var resp={name:res.data.name,city:res.data.city};console.log('resp =>',resp.name,resp.city);console.log('actual response =>',res.data);setAllUsers(res.data);}).catch(function(err){console.log('errour=>',err);});},[]);var history=useHistory;function handleDelete(id){console.log('ID =',id);axios.post('http://localhost:1000/users/delete',{id:id}).then(function(res){alert('Deleted!!');window.location='/users';}).catch(function(err){if(err){console.log('Error',err);}});}var users=allUsers.length>0?allUsers.map(function(user,key){// return (\n//     <div key={user._id} style={{ border: \"1px solid black\", margin: \"10px\" }}>\n//         <h1>{user.name},</h1><h4>{user.city} </h4>\n//         <Link to={`/editUser/${user._id}`}>\n//             <button name=\"edit\" value=\"edit\">edit</button>\n//         </Link>\n//         <button name=\"edit\" value=\"edit\" onClick={(e)=>{handleDelete(user._id)}}>Delete</button>\n//     </div>\n// )\nreturn/*#__PURE__*/_jsxs(\"tr\",{style:{border:\"1px solid black\",margin:\"10px\"},className:\"tableData\",children:[/*#__PURE__*/_jsx(\"td\",{scope:\"row\",children:user.name}),/*#__PURE__*/_jsxs(\"td\",{scope:\"row\",children:[user.city,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{scope:\"row\",children:[/*#__PURE__*/_jsx(Link,{to:\"/editUser/\".concat(user._id),children:/*#__PURE__*/_jsx(\"button\",{name:\"edit\",className:\"btn btn-primary\",value:\"edit\",children:\"edit\"})}),/*#__PURE__*/_jsx(\"button\",{name:\"edit\",value:\"edit\",className:\"btn btn-danger\",onClick:function onClick(e){handleDelete(user._id);},children:\"Delete\"})]})]},user._id);}):\"[]\";return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"projectTitle\",children:\" MERN project\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Users\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"City\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users})]})]});}","map":{"version":3,"sources":["C:/Users/Laptop/Desktop/udemy/node/MERN/first/frontend/src/components/comp_users/View.js"],"names":["React","useEffect","useState","Link","useHistory","axios","View","allUsers","setAllUsers","user","setUser","id","setId","method","url","get","then","res","console","log","data","resp","name","city","catch","err","history","handleDelete","post","alert","window","location","users","length","map","key","border","margin","_id","e"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport './comp_users.css'\r\n\r\nexport default function View() {\r\n    const [allUsers, setAllUsers] = useState('')\r\n    const [user, setUser] = useState([])\r\n    const [id,setId] = useState()\r\n    // const params = useParams \r\n    useEffect(() => {\r\n        var method = \"get\"\r\n        var url = \"http://localhost:1000/users\"\r\n        axios.get(url)\r\n            .then((res) => {\r\n                console.log('res=>', res.data)\r\n                var resp = {\r\n                    name: res.data.name,\r\n                    city: res.data.city\r\n                }\r\n                console.log('resp =>', resp.name, resp.city)\r\n                console.log('actual response =>', res.data)\r\n\r\n                setAllUsers(res.data)\r\n\r\n            })\r\n            .catch((err) => { console.log('errour=>', err) })\r\n    }, [])\r\n    const history = useHistory\r\n    function handleDelete(id)\r\n    {\r\n        console.log('ID =',id)\r\n        axios.post('http://localhost:1000/users/delete',{id:id})\r\n        .then((res)=>{\r\n            alert('Deleted!!')\r\n            window.location = '/users'\r\n        })\r\n        .catch((err)=>{if(err){console.log('Error',err)}})\r\n        \r\n\r\n    }\r\n    const users = allUsers.length > 0 ? (allUsers.map((user, key) => {\r\n        // return (\r\n        //     <div key={user._id} style={{ border: \"1px solid black\", margin: \"10px\" }}>\r\n        //         <h1>{user.name},</h1><h4>{user.city} </h4>\r\n         \r\n        //         <Link to={`/editUser/${user._id}`}>\r\n        //             <button name=\"edit\" value=\"edit\">edit</button>\r\n        //         </Link>\r\n        //         <button name=\"edit\" value=\"edit\" onClick={(e)=>{handleDelete(user._id)}}>Delete</button>\r\n\r\n\r\n        //     </div>\r\n        // )\r\n        return (\r\n            <tr key={user._id} style={{ border: \"1px solid black\", margin: \"10px\" }} className=\"tableData\">\r\n                <td scope=\"row\">{user.name}</td>\r\n                <td scope =\"row\">{user.city} </td>\r\n                <td scope=\"row\">\r\n\r\n                <Link to={`/editUser/${user._id}`}>\r\n                    <button name=\"edit\" className=\"btn btn-primary\" value=\"edit\">edit</button>\r\n                </Link>\r\n                <button name=\"edit\" value=\"edit\" className=\"btn btn-danger\" onClick={(e)=>{handleDelete(user._id)}}>Delete</button>\r\n                </td>\r\n\r\n\r\n            </tr>\r\n        )\r\n    })) : \"[]\"\r\n\r\n    return (\r\n        <div className=\"container\">\r\n             <h1 className=\"projectTitle\"> MERN project</h1>\r\n             <h3>Users</h3>\r\n        \r\n            <table className=\"table table-hover\">\r\n                <thead>\r\n                    <tr>\r\n                        <th scope=\"col\">Username</th>\r\n                        <th scope=\"col\">City</th>\r\n                        <th scope=\"col\">Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                {users}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}